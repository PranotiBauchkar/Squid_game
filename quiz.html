<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Survival Arena Quiz</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    background-color:#0f0f0f;
    color:white;
    font-family:sans-serif;
}
.quiz-container{
    max-width:600px;
    margin:80px auto;
    padding:30px;
    background:#1a1a1a;
    border-radius:10px;
    text-align:center;
}
.option{
    display:block;
    width:100%;
    margin:8px 0;
    padding:10px;
    border:none;
    border-radius:5px;
    background:#333;
    color:white;
    cursor:pointer;
    transition:0.3s;
}
.option:hover{
    background:#ff006e;
}
.correct{
    background:green !important;
}
.wrong{
    background:red !important;
}
</style>
</head>

<body>

<div class="quiz-container">
    <h2 class="mb-3">Survival Quiz</h2>
    <h3 id="question">Question</h3>
    <div id="options"></div>
    <button id="nextBtn" class="btn btn-danger mt-3">Next</button>
    <h4 id="finalScore" class="mt-3"></h4>
</div>

<script>
// Quiz Questions
const quiz = [
    { question: "1. Which skill is most important in survival?", options: ["Speed", "Strategy", "Luck", "Strength"], answer: 1 },
    { question: "2. Breaking rules results in?", options: ["Bonus points", "Elimination", "Second chance", "Nothing"], answer: 1 },
    { question: "3. The final winner is decided by?", options: ["Random draw", "Highest score", "Audience vote", "Early entry"], answer: 1 }
];

let current = 0;
let score = 0;

const questionEl = document.getElementById("question");
const optionsEl = document.getElementById("options");
const nextBtn = document.getElementById("nextBtn");
const finalScore = document.getElementById("finalScore");

// Load Question
function loadQuestion(){
    optionsEl.innerHTML = "";
    finalScore.innerHTML = "";
    nextBtn.style.display = "none";

    let q = quiz[current];
    questionEl.innerText = q.question;

    q.options.forEach((opt, index) => {
        const btn = document.createElement("button");
        btn.innerText = opt;
        btn.classList.add("option");
        btn.onclick = () => checkAnswer(index, btn);
        optionsEl.appendChild(btn);
    });
}

// Check Answer
function checkAnswer(selected, button){
    const correct = quiz[current].answer;
    const allOptions = document.querySelectorAll(".option");
    allOptions.forEach(btn => btn.disabled = true);

    if(selected === correct){
        button.classList.add("correct");
        score++;
    } else {
        button.classList.add("wrong");
        allOptions[correct].classList.add("correct");
    }

    nextBtn.style.display = "block";
}

// Next Question
nextBtn.onclick = function(){
    current++;
    if(current < quiz.length){
        loadQuestion();
    } else {
        showResult();
    }
};

// Show Result & Save to Leaderboard
function showResult(){
    questionEl.innerText = "Quiz Completed!";
    optionsEl.innerHTML = "";
    nextBtn.style.display = "none";
    finalScore.innerHTML = "Your Score: " + score + " / " + quiz.length;

    // --- Save to leaderboard ---
    const playerName = prompt("Enter your name for the leaderboard:", "Player") || "Player";

    let leaderboard = JSON.parse(localStorage.getItem('leaderboard')) || [];
    leaderboard.push({
        player: playerName,
        game: 'Survival Quiz',
        score: score
    });

    // Sort descending by score (optional)
    leaderboard.sort((a,b) => b.score - a.score);

    localStorage.setItem('leaderboard', JSON.stringify(leaderboard));

    // Redirect to leaderboard page
    window.location.href = 'leaderboard.html';
}

// Start Quiz
loadQuestion();

</script>

</body>
</html>