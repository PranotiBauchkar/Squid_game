<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game Launch | LAST REALM</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Orbitron', sans-serif;
  background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
  color: white;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  height: 100vh;
  text-align: center;
}

.countdown {
  font-size: 6rem;
  color: #00ffff;
  text-shadow: 0 0 15px #00ffff, 0 0 30px #00ffff;
  margin-top: 20px;
}

.game-title {
  font-size: 3rem;
  color: #ff0055;
  text-shadow: 0 0 20px #ff0055, 0 0 40px #ff0055;
  margin-bottom: 20px;
}

canvas {
  position: absolute;
  top:0;
  left:0;
  width: 100%;
  height: 100%;
  z-index: -1;
}
</style>
</head>
<body>

<h1 id="gameTitle" class="game-title">Get Ready!</h1>
<div id="countdown" class="countdown">3</div>

<canvas id="particleCanvas"></canvas>

<script>
// --- 1. Get game from URL
const params = new URLSearchParams(window.location.search);
const game = params.get('game') || 'unknown-game';
document.getElementById('gameTitle').textContent = `Get Ready for ${game.replace(/-/g,' ')}!`;

// --- 2. Map game keys to actual game files
const gamePages = {
  'zombie-survival': 'zombie-survival.html',
  'sniper-elite': 'sniper-elite.html',
  'alien-attack': 'alien-attack.html',
  'warzone-x':'warzone-x.html',
  'car-combat':'car-combat.html',
  'battle-arena':'battle-arena.html',
  'cyber-strike':'cyber-strike.html',
  'quiz':'quiz.html'
  // Add more games here
};

// --- 3. Countdown logic
let count = 3;
const countdownEl = document.getElementById('countdown');

function startCountdown() {
  countdownEl.textContent = count;
  const timer = setInterval(() => {
    count--;
    if(count > 0) {
      countdownEl.textContent = count;
    } else if(count === 0) {
      countdownEl.textContent = 'GO!';
    } else {
      clearInterval(timer);
      // --- 4. Redirect to actual game
      const redirectPage = gamePages[game] || 'games.html';
      window.location.href = redirectPage;
    }
  }, 1000);
}

startCountdown();

// --- 5. Particle Background
const canvas = document.getElementById('particleCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const particles = [];
for(let i=0; i<120; i++){
  particles.push({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    r: Math.random()*3+1,
    dx: (Math.random()-0.5)*1.5,
    dy: (Math.random()-0.5)*1.5
  });
}

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>{
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle = 'rgba(0,255,255,0.6)';
    ctx.fill();
    p.x += p.dx;
    p.y += p.dy;
    if(p.x<0||p.x>canvas.width)p.dx*=-1;
    if(p.y<0||p.y>canvas.height)p.dy*=-1;
  });
  requestAnimationFrame(animate);
}
animate();

// Handle window resize
window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>

</body>
</html>